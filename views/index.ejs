<html>
  <head>
    <title>Food planner v1</title>
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="/stylesheets/style2.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.7/angular.min.js"></script>
    <script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.2/angular-ui-router.js"></script>
    <script src="/javascripts/angularApp.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script> 
    <script src="https://rawgit.com/fordth/jinqJs/master/jinqjs.min.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-filter/0.5.14/angular-filter.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.0/angular-messages.js"></script>

        <script src="//angular-ui.github.io/bootstrap/ui-bootstrap-tpls-0.11.2.js"></script>
          <!-- slider -->
              <script src="/javascripts/main.js"></script>

<!--filestack widget-->
    <script src="/javascripts/filepicker.js"></script>
    <script src="/javascripts/angular_filepicker.js"></script>

    <style> .glyphicon-thumbs-up { cursor:pointer } </style>
    <style> .glyphicon-remove { cursor:pointer } </style>
    <style> .glyphicon-plus { cursor:pointer } </style>
    <style> .glyphicon-pencil { cursor:pointer } </style>
  </head>
  <body ng-app="foodplanner">

     <div class="row"> 
     <div ui-view ="menu"> </div>     </div>
      
      <div ui-view="page"> </div>










          <!-- Menu en haut de la page -->

    <script type="text/ng-template" id="/menu.html" >
 <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container-fluid">

          <!-- Brand and toggle get grouped for better mobile display -->
          <div class="navbar-header">
            <a class="navbar-brand" href="#/index">On dine quoi?</a>
          </div>

          <!-- Collect the nav links, forms, and other content for toggling -->
          <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav">

              <li ng-class="{active: $state.current.name == 'home'}"><a href="#/recettes">Recettes</a></li>
              <li ng-class="{active: $state.current.name == 'ingredientsdispos'}"><a href="#/ingredientsdispos">Ingredients</a></li>
              <li ng-class="{active: $state.current.name == 'planning'}"><a href="#/planning">Planning</a></li>  
            </ul>
            <ul class="nav navbar-nav navbar-right">            
              <li ng-show="isLoggedIn()"><a>Bienvenu {{ currentUser() }}!</a></li>
              <li ng-show="isLoggedIn()" ng-class="{active: $state.current.name == 'mesplannings'}"><a href="#/mesplannings"> Mes Plannings</a></li>              
              <li ng-hide="isLoggedIn()" ng-class="{active: $state.current.name == 'register'}"><a href="#/register">S'inscrire</a></li>    
              <li ng-hide="isLoggedIn()" ng-class="{active: $state.current.name == 'login'}"><a href="#/login">Se connecter</a></li>   
              <li ng-show="isLoggedIn()" ng-class="{active: $state.current.name == 'login'}"><a href="" ng-click="logOut()">Se déconnecter</a></li>                            
            </ul>
          </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
      </nav>
    </script>













          <!-- Liste des recettes et home -->

     <script type="text/ng-template" id="/recettes.html">

         <div class="page-header"> <br>
          <h1>Liste des recettes</h1>
          
        </div>
      <br><br>   <a class="btn btn-primary" href="#/ajouterrecette"> Ajoute ta recette! </a><br><br>


       <div ng-show="error" class="alert alert-danger row">
      <span>{{ error.message }}</span>
     </div>

      <table class="table"> 
        <tr>
          <td> Nom de recette </td>
          <td> temps de préparation </td>
          <td> temps de cuisson </td>
          <td>  </td>
        <tr ng-repeat="recette in recettes | orderBy :'-upvotes'">
          <td><img ng-src="{{recette.picture}}" class="thumbnailperso" ng-show="recette.picture"> <a href ="#/recettes/{{recette._id}}">{{recette.nomr}}</a></td>
          <td>{{recette.tempsdepreparation}}</td>
          <td>{{recette.tempsdecuisson}}</td>
          <td> <span class="glyphicon glyphicon-thumbs-up" ng-click="incrementUpvotes (recette)"></span>
            {{recette.upvotes}} 
            <span class="glyphicon glyphicon-remove" ng-click="supprimerRecette(recette)"></span>
            <span ng-show="recette.author">
            posted by <a>{{recette.author}}</a>
            </span>
           </td>
        </tr>
      </table>
      <br><br><br>
 



  
    
     </script>




          <!-- Liste des ingredients disponible -->

     <script type="text/ng-template" id="/ingredientsdispos.html">
         <div class="page-header"> <br> 
          <h1>Liste des ingredients</h1> 
          </div>
        <form ng-show="currentUser() == 'aymeric'" ng-submit="ajouterIngredientsdispo()" style="margin-top:30px;">
    <h3>Ajouter un nouvel ingredient</h3>
      <div class="row">
        <div class="col-lg-6">
          <label>Nom de l'ingredient</label>
          <div class="form-group">
            <input type="text" class="form-control" placeholder="Pomme de terre" ng-model="nomid"/>
          </div> 
          <label>Rayon</label>      
          <div class="form-group">  
              <select class="form-control" placeholder="Fruits et légumes" ng-model="rayon "/>
                <option>Conserves</option>
                <option>Epicerie</option>                
                <option>Fruits et légumes</option>
                <option>Frais</option>                
                <option>Viandes</option>
              </select>
          </div>
          <label>Unité</label>          
          <div class="form-group">  
              <select class="form-control" placeholder="grammes" ng-model="unite "/>
                <option>cl</option>                 
                <option>grammes</option>
                <option>tranche</option>
                <option>unité</option>
              </select>
          </div>
          <label>Type principal</label>          
          <div class="form-group">  
              <select class="form-control" placeholder="protéines" ng-model="type"/>
                <option>céréales et dérivés</option>    
                <option>Légumes et fruits</option>                 
                <option>Lait et produit laitier</option>
                <option>Viande poisson et oeuf</option>
                <option>Matières grasses</option>
                <option>Sucre et produits sucrés</option>
              </select>              
          </div>
          <label>Apport en Kcal pour 100g</label>          
          <div class="form-group">  
              <input type="number" class="form-control" placeholder="32" ng-model="apport "/>
          </div>                        
         </div>
          <label>Poid moyen en grammes (seulement si l'unité n'est pas au poid)</label>         
         <div class="col-lg-6">
           <div class="form-group"> 
            <input type="number" class="form-control" placeholder="poid moyen" ng-model="poidmoyen"/>
          </div>
        <div class="form-group">   
           <button type="submit" class="btn btn-primary"> Ajoute ton ingredient! </button>
         </div>
        </div> 
      </div>
      </form> 
      <table class="table"> 
        <tr>
          <td> Nom de l'ingredient </td>
          <td> Rayons </td>
          <td> Unité </td>
          <td> Type </td>
          <td>  </td>
        <tr ng-repeat="ingredientsdispo in ingredientsdispos | orderBy :'nomid'">
          <td>{{ingredientsdispo.nomid}}</a></td>
          <td>{{ingredientsdispo.rayon}}</td>
          <td>{{ingredientsdispo.unite}}</td>
          <td>{{ingredientsdispo.type}}</td>
          <td> 
            <span class="glyphicon glyphicon-remove" ng-show="currentUser() == 'aymeric'" ng-click="supprimerIngredientsdispos(ingredientsdispo)"></span>
           </td>
        </tr>
      </table>
      <br><br><br>
 
    
     </script>











          <!-- Page d'ajout de recette -->

     <script type="text/ng-template" id="/ajouterrecette.html">

      <div class="page-header"> <br>
          <h1>Ajouter une recette</h1>
          
        </div>
        <form ng-submit="ajouterRecette()" style="margin-top:30px;">
          <div class="row">
           <div class="col-lg-6">
             <div class="form-group">
              <input type="text" class="form-control" placeholder="Nom de la recette" ng-model="nomr"/>
             </div> 
             <div class="form-group">  
              <textarea type="text"  class="form-control" rows="12" placeholder="instructions" ng-model="instructions "> </textarea>
             </div>
            </div>
            <div class="col-lg-6">
             <div class="form-group"> 
              <input type="number" class="form-control" placeholder="Temps de cuission" ng-model="tempsdecuisson"/>
             </div>
             <div class="form-group">         
              <input type="number" class="form-control" placeholder="Temps de préparation" ng-model="tempsdepreparation"/>
             </div>
             <div class="form-group">         
              <input type="number" class="form-control" placeholder="Nombre de personnes" ng-model="portionmini"/>
             </div>
             <BR>
             <div class="form-group">
                <label for="picture">Photo:</label>
                 <div class="text-center">
                   <button type="button" class="btn btn-default" ng-click="upload()">
                            Upload <span class="caret"></span>
                        </button>
                        <div style="margin-top:10px;">
                            <!-- Show the thumbnail only when the picture is uploaded -->
                            <a href="{{infophoto.url}}" class="thumbnailperso" ng-show="infophoto.url">
                            <!-- the picture is rendered with width: 500 and sharpened -->
                            <img ng-src="{{infophoto.url | fpConvert: {filter:'sharpen'} }}">
                            </a>
                        </div>                  
                    </div>
                </div>

            </div> 
           </div> 

<br>

       <div class="row">
        <div class="form-group">
         <div class="col-lg-6">
           <table class="table" for="ingredients"> 
              <tr>
                <td> nombre </td>
                 <td> unite </td>
                <td> ingredient </td>
                <td></td>
              </tr>
              <tr ng-repeat="ingredient in ingredients | orderBy:'nomi'">
                <td> 
                 <span ng-hide="ingredient.editing" ng-dblclick="editIngredient(ingredient)">{{ingredient.nombre}}</span>
                 <input ng-show="ingredient.editing" ng-model="ingredient.nombre" ng-blur="doneEditing(ingredient)" autofocus />
                </td>
                <td> {{ingredient.unite}}</td>
                <td> {{ingredient.nomi}}</td>

                <td><span class="glyphicon glyphicon-remove" ng-click="supprimerIngredient(ingredient)"></span>
                <span class="glyphicon glyphicon-pencil" ng-click="editIngredient(ingredient)"></span></td>

                </tr>
              </table>
                 </div>
            </div> 
           </div> 
                           <div class="form-group">   
                   <button type="submit" class="btn btn-primary"> Sauvegarder </button>
                 </div>
      </form>    



         </div>
        <div class="col-lg-6"> 
         </form>       
          <form>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-addon"><i class="fa fa-search"></i></div>

              <input type="text" class="form-control" placeholder="Rechercher ingredient" ng-model="rechercheIngredientsdispo">

            </div>      
          </div>
        </form>
        <table class="table"> 
        <tr>
          <td> Nom de l'ingredient </td>
          <td> Rayons </td>
          <td> Unité </td>
          <td>  </td>
         </tr>         
        <tr ng-repeat="ingredientsdispo in ingredientsdispos | orderBy :'nomid' | filter:rechercheIngredientsdispo">
          <td>{{ingredientsdispo.nomid}}</td>
          <td>{{ingredientsdispo.rayon}}</td>
          <td>{{ingredientsdispo.unite}}</td>
          <td> 
            <span class="glyphicon glyphicon-plus" ng-click="addtorecette(ingredientsdispo)"></span>
           </td>
        </tr>
      </table>  

         </div>
           </div>      

    
      </script>






          <!-- Liste des ingredients d'une recette -->


     <script type="text/ng-template" id="/recette.html">
        <div class="page-header">
        <br><br>
          <h1>

           <span ng-hide="recette.editingnomr" ng-dblclick="editrecettename(recette)"> {{recette.nomr}}  </span>
           <input ng-show="recette.editingnomr" ng-model="recette.nomr" ng-blur="doneeditrecettename(recette)" autofocus />
           <span class="glyphicon glyphicon-pencil" ng-hide="recette.editingnomr" ng-click="editrecettename(recette)"></span></td>

          </h1>
          by {{recette.author}}</div>
            <div ng-show="error" class="alert alert-danger row">
              <span>{{ error.message }}</span>
            </div>

       <div class="row">
        <div class="col-lg-6"> 
          <img ng-src="{{recette.picture}}" class="photodescriptionrecette" ng-show="recette.picture"> <br>  <br> 
        </div>
         <div class="col-lg-6"> 

        <h4 > pour
           <span ng-hide="recette.editingportionmini" ng-dblclick="editrecetteportionmini(recette)"> {{recette.portionmini}}  </span>
           <input ng-show="recette.editingportionmini" ng-model="recette.portionmini" ng-blur="doneeditrecetteportionmini(recette)" autofocus />personnes
           <span class="glyphicon glyphicon-pencil" ng-hide="recette.editingportionmini" ng-click="editrecetteportionmini(recette)"></span></td>
           
        <h4>   

          <h4 > instruction: <span class="glyphicon glyphicon-pencil" ng-hide="recette.editinginstructions" ng-click="editrecetteinstructions(recette)"></span> </h4>
          <div ng-hide="recette.editinginstructions">
            <span ng-hide="recette.instructions" ng-dblclick="editrecetteinstructions(recette)"> A vous d'improviser :) </span> 
          </div>
          <div  ng-hide="recette.editinginstructions" ng-dblclick="editrecetteinstructions(recette)" > 
            <span ng-show="recette.instructions"> {{recette.instructions}} </span>
          </div>
          <input ng-show="recette.editinginstructions" ng-model="recette.instructions" ng-blur="doneeditrecetteinstructions(recette)" autofocus />





          <h4 > temps de cuisson: <span class="glyphicon glyphicon-pencil" ng-hide="recette.editingtempsdecuisson" ng-click="editrecettetempsdecuisson(recette)"></span> </h4>
          <div ng-hide="recette.editingtempsdecuisson">
            <span ng-hide="recette.tempsdecuisson" ng-dblclick="editrecettetempsdecuisson(recette)"> ?? min </span> 
          </div>
          <div  ng-hide="recette.editingtempsdecuisson" ng-dblclick="editrecettetempsdecuisson(recette)" > 
            <span ng-show="recette.tempsdecuisson"> {{recette.tempsdecuisson}} min </span>
          </div>
          <input type="number" ng-show="recette.editingtempsdecuisson" ng-model="recette.tempsdecuisson" ng-blur="doneeditrecettetempsdecuisson(recette)" autofocus /> 





          <h4 > temps de préparation: <span class="glyphicon glyphicon-pencil" ng-hide="recette.editingtempsdepreparation" ng-click="editrecettetempsdepreparation(recette)"></span> </h4>
          <div ng-hide="recette.editingtempsdepreparation">
            <span ng-hide="recette.tempsdepreparation" ng-dblclick="editrecettetempsdepreparation(recette)"> ?? min </span> 
          </div>
          <div  ng-hide="recette.editingtempsdepreparation" ng-dblclick="editrecettetempsdepreparation(recette)" > 
            <span ng-show="recette.tempsdepreparation"> {{recette.tempsdepreparation}} min </span>
          </div>
          <input type="number" ng-show="recette.editingtempsdepreparation" ng-model="recette.tempsdepreparation" ng-blur="doneeditrecettetempsdepreparation(recette)" autofocus /> 



        </div>
       </div>
       <div class="row">
        <div class="col-lg-6">
        <table class="table"> 
        <tr>
          <td> nombre </td>
           <td> unite </td>
          <td> ingredient </td>
          <td></span></td>
        </tr>
        <tr  ng-repeat="ingredient in recette.ingredients | orderBy:'nomi'">
          <td> 
           <span ng-hide="ingredient.editing" ng-dblclick="editIngredient(ingredient)">{{ingredient.nombre}}</span>
           <input ng-show="ingredient.editing" ng-model="ingredient.nombre" ng-blur="doneEditing(ingredient)" autofocus />
          </td>
          <td> {{ingredient.unite}}</td>
          <td> {{ingredient.nomi}}</td>

          <td><span class="glyphicon glyphicon-remove" ng-click="supprimerIngredient(ingredient)"></span>
          <span class="glyphicon glyphicon-pencil" ng-click="editIngredient(ingredient)"></span></td>

          </tr>
        </table>      

          </div>
        <div class="col-lg-6"> 
             <h4> Ajouter des ingredients </h4>
          <form>
          <div class="form-group">
            <div class="input-group">
              <div class="input-group-addon"><i class="fa fa-search"></i></div>

              <input type="text" class="form-control" placeholder="Rechercher ingredient" ng-model="rechercheIngredientsdispo">

            </div>      
          </div>
        </form>
        <table class="table"> 
        <tr>
          <td> Nom de l'ingredient </td>
          <td> Rayons </td>
          <td> Unité </td>
          <td>  </td>
        <tr ng-repeat="ingredientsdispo in ingredientsdispos | orderBy :'nomid' | filter:rechercheIngredientsdispo">
          <td>{{ingredientsdispo.nomid}}</a></td>
          <td>{{ingredientsdispo.rayon}}</td>
          <td>{{ingredientsdispo.unite}}</td>
          <td> 
            <span class="glyphicon glyphicon-plus" ng-click="addtorecette(ingredientsdispo)"></span>
           </td>
        </tr>
      </table>  

         </div>
        </div>  
      </script>











<script type="text/ng-template" id="/1planning.html">
         <div class="page-header">
         <br>
          <h1>Planning: {{plannings[0].nomp}}</h1>
        </div>   
    <row>   
    <div class="col-sm-6 col-xs-6">
      <table class="table"> 
        <tr ng-repeat= "jour in jours  track by $index">

          <td> {{jour.date | date:'dd-MM'}} <BR>
          midi: {{jour.midi.nomr}} <span class="glyphicon glyphicon-plus" ng-click="ajouterrepasalea(jour,'midi')"></span> <span class="glyphicon glyphicon-pencil" ng-click="open(jour,'midi')"></span>
            pour <select ng-model="jour.nbpersmidi" ng-change="change(jour)">
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option></select>
             personnes (portions restantes:{{jour.portionrestantemidi}})        <BR> 

          soir: {{jour.soir.nomr}} <span class="glyphicon glyphicon-plus" ng-click="ajouterrepasalea(jour,'soir')"></span> <span class="glyphicon glyphicon-pencil" ng-click="open(jour,'soir')"></span>
            pour <select ng-model="jour.nbperssoir" ng-change="change2(jour)">
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option></select>
             personnes (portions restantes:{{jour.portionrestantemidi}}) <BR>

          </td>

        </tr>
      </table>

 <BR>
          
       </div>
       <div class="col-sm-6 col-xs-6">    
  

      <br>        

      <table class="table"> 
                      <tr>
                        <th> Nombre </th>
                        <th> Unité </th>
                        <th> Ingredient </th>
                        <th>  Rayon </th>        </tr>
                      <tr ng-repeat="listedecourse in listedecourses | orderBy :'rayon' ">
                        <td>{{listedecourse.nombre}}</a></td>
                        <td>{{listedecourse.unite}}</td>
                        <td>{{listedecourse.nomi}}</td>
                        <td>{{listedecourse.rayon}}</td>                        

                      </tr>
                    </table>  
      <br>        <br>  
     
        <button ng-click=genererplanning2() class="btn btn-primary"> générer liste la liste de courses</button>
        <button ng-click=sauvegarderplanning() class="btn btn-primary"> Sauvegarder planning / liste de courses</button>

         </div> 
         </row>
     </script>













<script type="text/ng-template" id="/mesplannings.html">
         <div class="page-header">
         <br>
          <h1>Mes Planning </h1> 
        </div> 
             <table class="table"> 
                      <tr>
                      <th> nom </th>
                        <th> Jour </th>
                      </tr>
                      <tr ng-repeat="planning in plannings ">
                        <td><a href ="#/plannings/{{planning._id}}">{{planning.nomp}}</a></td>
                        <td>Créé le {{planning.date | date:'dd-MM'}} à {{planning.date | date:'hh:mm'}} <span class="glyphicon glyphicon-remove" ng-click="supprimerplanning(planning)"></span></td>                    

                      </tr>
                    </table>   

</script>



















































































<script type="text/ng-template" id="/planning.html">
         <div class="page-header">
         <br>
          <h1>Planning </h1> {{jours}}


        </div>   
    <row>    
    <div class="col-sm-6 col-xs-6">
      <table class="table"> 
        <tr ng-repeat= "jour in jours  track by $index">

          <td> {{jour.date | date:'dd-MM'}} <BR>
          midi: {{jour.midi.nomr}} <span class="glyphicon glyphicon-plus" ng-click="ajouterrepasalea(jour,'midi')"></span> <span class="glyphicon glyphicon-pencil" ng-click="open(jour,'midi')"></span>
            pour <select ng-model="jour.nbpersmidi" ng-change="change(jour)">
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option></select>
             personnes (portions restantes:{{jour.portionrestantemidi}})        <BR> 

          soir: {{jour.soir.nomr}} <span class="glyphicon glyphicon-plus" ng-click="ajouterrepasalea(jour,'soir')"></span> <span class="glyphicon glyphicon-pencil" ng-click="open(jour,'soir')"></span>
            pour <select ng-model="jour.nbperssoir" ng-change="change2(jour)">
              <option>1</option><option>2</option><option>3</option><option>4</option><option>5</option><option>6</option><option>7</option><option>8</option></select>
             personnes (portions restantes:{{jour.portionrestantemidi}}) <BR>

          </td>

        </tr>
      </table>

 <BR>
          
       </div>
       <div class="col-sm-6 col-xs-6">    
  

      <br>        

      <table class="table"> 
                      <tr>
                        <th> Nombre </th>
                        <th> Unité </th>
                        <th> Ingredient </th>
                        <th>  Rayon </th>        </tr>
                      <tr ng-repeat="listedecourse in listedecourses | orderBy :'rayon' ">
                        <td>{{listedecourse.nombre}}</a></td>
                        <td>{{listedecourse.unite}}</td>
                        <td>{{listedecourse.nomi}}</td>
                        <td>{{listedecourse.rayon}}</td>                        

                      </tr>
                    </table>  
      <br>        <br>  
     
        <button ng-click=genererplanning2() class="btn btn-primary"> générer liste la liste de courses</button>
        <button ng-click="open2(jours,nom,listedecourses,currentUser)" class="btn btn-primary"> Sauvegarder planning / liste de courses</button>

         </div> 
         </row>
     </script>







          <!-- Modal2 -->
 

          <script type="text/ng-template" id="myModalContent2.html">
              <div class="modal-header">
                  <h3 class="modal-title">Nom du planning: </h3>

              </div>
             

              <form >
                      <div class="form-group">
                  <label>Mot de passe</label>    
                    <input type="text"
                    class="form-control"
                    placeholder="Semaine en famille"
                    ng-model="nom"></input>
                  </div>
                 <button class="btn btn-success" ng-click="ok(nom)">ok</button>                                
                      
                      </form>
                      






          </script>




























          <!-- Modal -->
 

          <script type="text/ng-template" id="myModalContent.html">
              <div class="modal-header">
                  <h3 class="modal-title">Changement de repas: {{planningrecettes[k].nomr}} </h3>

              </div>
             

               <!--  <form name = "addFriendForm">
                <input ng-model = "planningrecettes[0].nomr" class="form-control" type = "text" placeholder="Nom de recette" title=" Username" />
              </form>  -->
              
              <form name = "addFriendForm">
                        <div class="form-group">
                          <div class="input-group">
                            <div class="input-group-addon"><i class="fa fa-search"></i></div>

                            <input type="text" class="form-control" placeholder="Rechercher recette" ng-model="rechercheRecette">

                          </div>      
                        </div>
                      </form>
                      <table class="table"> 
                      <tr>
                        <td> Nom de la recette </td>
                        <td> temps de cuisson </td>
                        <td> temps de préparation </td>
                        <td>  </td>
                      <tr ng-repeat="recette in recettes | orderBy :'nomr' | filter:rechercheRecette">
                        <td>{{recette.nomr}}</a></td>
                        <td>{{recette.tempsdecuisson}}</td>
                        <td>{{recette.tempsdepreparation}}</td>
                        <td> 
                          <span class="glyphicon glyphicon-plus" ng-click="ok(recette)"></span>
                         </td>
                      </tr>
                    </table>  







              <div class="modal-footer">

                  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
              </div>






          </script>




<script type="text/ng-template" id="/login.html">
<BR>
 <div class="page-header">
    <h1>Se connecter</h1>
  </div>

  <div ng-show="error" class="alert alert-danger row">
    <span>{{ error.message }}</span>
  </div>

  <form ng-submit="logIn()"
    style="margin-top:30px;">


    <div class="form-group">
    <label>Nom d'utilisateur</label>
      <input type="text"
      class="form-control"
      placeholder="Paulette la reine des omelettes"
      ng-model="user.username"></input>
    </div>
    <div class="form-group">
    <label>Mot de passe</label>    
      <input type="password"
      class="form-control"
      placeholder="Chut! c'est secret.."
      ng-model="user.password"></input>
    </div>
    <button type="submit" class="btn btn-primary">Log In</button>
  </form>
</script>











<script type="text/ng-template" id="/register.html">
 <BR> <div class="page-header">
    <h1>S'inscrire</h1>
  </div>

  <div ng-show="error" class="alert alert-danger row">
    <span>{{ error.message }}</span>
  </div>




  <form ng-submit="register()" name="newUserForm" novalidate
    style="margin-top:30px;">




    <div class="form-group" ng-class="{ 'has-error': newUserForm.name.$touched && newUserForm.name.$invalid }">
     <label>Nom d'utilisateur</label>
      <input type="text" name="name" class="form-control" placeholder="Paulette la reine des omelettes"
        ng-model="user.username"
        ng-minlength="5"
        ng-maxlength="10"
        required>
      <div class="help-block" ng-messages="newUserForm.name.$error" ng-if="newUserForm.name.$touched">
        <p ng-message="minlength">Your name is too short.</p>
        <p ng-message="maxlength">Your name is too long.</p>
        <p ng-message="required">Your name is required.</p>
      </div>
    </div>



    <div class="form-group" ng-class="{ 'has-error': newUserForm.email.$touched && newUserForm.email.$invalid }">
      <label>Email</label>
      <input type="email" name="email" class="form-control" placeholder="Paulette@lareinedesomelette.com"
        ng-model="user.email"
        ng-minlength="5"
        ng-maxlength="20"
        required>     
      <div class="help-block" ng-messages="newUserForm.email.$error" ng-if="newUserForm.email.$touched">
        <p ng-message="required">This field is required</p>
        <p ng-message="minlength">This field is too short</p>
        <p ng-message="maxlength">This field is too long</p>
        <p ng-message="required">This field is required</p>
        <p ng-message="email">This needs to be a valid email</p>
      </div>
     </div>


    <div class="form-group" ng-class="{ 'has-error': newUserForm.password1.$touched && newUserForm.password1.$invalid }">
      <label>Mot de passe</label>
      <input  type="password" name="password1" class="form-control" placeholder="chut! c'est secret..."
        ng-model="user.password1"
        ng-minlength="5"
        ng-maxlength="20"
        required>
        
      <div class="help-block" ng-messages="newUserForm.password1.$error" ng-if="newUserForm.password1.$touched">
        <p ng-message="minlength">mot de passe trop court.</p>
        <p ng-message="maxlength">mot de passe trop long.</p>
        <p ng-message="required">Mot de passe obligatoire.</p>
      </div>
     </div>



    <div class="form-group" ng-class="{ 'has-error': newUserForm.password.$touched && newUserForm.password.$invalid }">
      <label>confirmez mot de passe</label>
      <input type="password" name="password" class="form-control" placeholder="" ng-pattern="{{user.password1}}"
        ng-model="user.password"
        required>
        
      <div class="help-block" ng-messages="newUserForm.password.$error" ng-if="newUserForm.password.$touched">
        <p ng-message="pattern">Les mots de passes sont différents.</p>
        <p ng-message="required">La confirmation de mot de passe est vide.</p>
      </div>
     </div>



    <button type="submit" class="btn btn-primary" ng-disabled="newUserForm.$invalid">Register</button>
  </form>
</script>






<script type="text/ng-template" id="/index.html">
  

<!-- first section - Home -->
  <div id="home" class="home">

    <div class="text-vcenter"><br><br><br><br>
      <h1>"On dîne quoi ce soir?"</h1><br>
      <br><br><br>
      <h3><em>pour vous - par vous - équilibré - économique</em></h3><br><br><br>
      <a href="/#planning" class="btn btn-success btn-lg">Continue</a>

      <br><br><br><br><br>

      <div class="col-sm-3 col-xs-6">
        <carousel interval="myInterval1">
          <slide ng-repeat="slide1 in slides1" active="slide1.active">
            <img ng-src="{{slide1.image}}">
            <div class="carousel-caption">
              <h4>Slide {{$index+1}}</h4>
            </div>
          </slide>
        </carousel>
      </div>

      <div class="col-sm-3 col-xs-6">
        <carousel interval="myInterval2">
          <slide ng-repeat="slide2 in slides2" active="slide2.active">
            <img ng-src="{{slide2.image}}">
            <div class="carousel-caption">
              <h4>Slide {{$index+1}}</h4>
            </div>
          </slide>
        </carousel>
      </div>

      <div class="col-sm-3 col-xs-6">
        <carousel interval="myInterval3">
          <slide ng-repeat="slide3 in slides3" active="slide3.active">
            <img ng-src="{{slide3.image}}">
            <div class="carousel-caption">
              <h4>Slide {{$index+1}}</h4>
            </div>
          </slide>
        </carousel>
      </div>  

      <div class="col-sm-3 col-xs-6">
        <carousel interval="myInterval4">
          <slide ng-repeat="slide4 in slides4" active="slide4.active">
            <img ng-src="{{slide4.image}}">
            <div class="carousel-caption">
              <h4>Slide {{$index+1}}</h4>
            </div>
          </slide>
        </carousel>
      </div>        
    </div>
  </div>
      

<!-- third section - Services -->
  <div id="services" class="pad-section">
    <div class="container">
    <h2 class="text-center">"On dine quoi", qu'est ce que c'est?</h2> <hr />
      <div class="row text-center">
        <div class="col-sm-4 col-xs-6">
          <i class="glyphicon glyphicon-calendar"> </i>
          <h4>Planning de repas</h4>
          <p>L'application répond à la question fatidique: "qu'est-ce qu'on mange ce soir?" en plannifiant vos repas de la semaine</p>
        </div>
        <div class="col-sm-4 col-xs-6">
          <i class="glyphicon glyphicon-th-list"> </i>
          <h4>Liste des courses</h4>
          <p>Finit le gachi et les heures perdues dans les rayons du supermarcher avec la liste des courses automatique</p>
        </div>
        <div class="col-sm-4 col-xs-6">
          <i class="glyphicon glyphicon-hand-up"> </i>
          <h4>C'est vous le chef</h4>
          <p>Ajouter vos propres recettes, ingredients, ... selon vos envies!</p>
        </div>
      </div>
    </div>
  </div>
<!-- /third section -->

<!-- second section - About -->
  <div id="about" class="pad-section">
    <div class="container">
      <div class="row">
        <div class="col-sm-6">
          <img src="/images/planning.jpg" alt="" />
        </div>
        <div class="col-sm-6 ">
          <h2 class ="text-center">Grace à "On dine quoi?"...</h2>
          <p class="lead">
          - Plus de prise de tête: plannifier vos repas et ne soyez jamais a cours d'idée. <br>
          - Plus de gâchi: prévoyer les bonnes quantités de chaque aliments, nous plannifions pour vous les repas en fonction de leur date de péremption.<br>
          - Des repas équilibré: l'application calcule pour vous l'apport moyen des repas sur la semaine. Choisissez vous même.<br>
          - Personalisez a l'infinie: àjouter vos recettes, changez l'ordre du planning, choisissez vos quantités: l'application se configure au plus près de vos besoin.<br>
          - Quelques soit vos préférences alimentaires: vous êtes plutôt veggie? halal? sans gluten? gourmand? C'est vous qui décidez! <br></p>
        </div>
      </div>
    </div>
  </div>
<!-- /second section -->


<!-- /footer -->
</script>




<footer>
  <hr />
  <div class="container">
    <p class="text-right">Copyright &copy; On dîne quoi? 2017</p>
  </div>
</footer>



  </body>
</html>